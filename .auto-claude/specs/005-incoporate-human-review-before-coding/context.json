{
  "task_description": "Add a mandatory human review checkpoint between the planning phase and coding phase in the Auto Claude framework",
  "scoped_services": ["auto-claude"],
  "files_to_modify": {
    "auto-claude": [
      "auto-claude/spec_runner.py",
      "auto-claude/run.py"
    ]
  },
  "files_to_create": {
    "auto-claude": [
      "auto-claude/review.py"
    ]
  },
  "files_to_reference": [
    "auto-claude/ui.py",
    "auto-claude/workspace.py",
    "auto-claude/validate_spec.py",
    "auto-claude/linear_updater.py"
  ],
  "patterns": {
    "user_choice_menu": "workspace.py uses select_menu() with MenuOption dataclass for interactive choices (lines 156-191, 373-414)",
    "state_persistence": "linear_updater.py has LinearTaskState with load/save JSON pattern; ui.py has BuildStatus.to_dict/from_dict pattern",
    "file_display": "workspace.py has show_build_summary() and show_changed_files() patterns (lines 283-322)",
    "human_input": "run.py handles HUMAN_INPUT.md at lines 804-870 for user feedback",
    "cli_args": "run.py uses argparse with mutual exclusion groups for build management commands (lines 357-385)"
  },
  "existing_implementations": {
    "description": "Found existing human-in-the-loop patterns: PAUSE file mechanism, HUMAN_INPUT.md handling, workspace choice menu, --review flag for post-build review",
    "relevant_files": [
      "auto-claude/workspace.py",
      "auto-claude/run.py",
      "auto-claude/ui.py"
    ]
  },
  "created_at": "2025-12-12T15:00:00.000000"
}
